import {Component, Input, OnInit} from '@angular/core';
import {trigger, state, style, animate, transition} from '@angular/animations';
import {RouterService} from '../../services/router.service';

@Component({
  selector: 'accordion-section',
  templateUrl: './accordion-section.component.html',
  styleUrls: ['./accordion-section.component.scss'],
  animations: [
  trigger('scale', [
    // transition('* => 0', [
    //   animate(200, style({height: '40px'}))
    // ]),
    // transition('* => 1', [
    //   animate(200, style({height: 'calc(50% - 20px)'}))
    // ]),
    // transition('* => 2', [
    //   animate(200, style({height: 'calc(100% - 80px)'}))
    // ])
    state('0', style({height: '40px'})),
    state('1', style({height: 'calc(50% - 20px)'})),
    state('2', style({height: 'calc(100% - 80px)'})),
    transition('* <=> *', animate('200ms ease'))
  ])]
})

export class AccordionSectionComponent implements OnInit {
  @Input() title: string = null;
  @Input() route: string = null;

  public size = 0;

  constructor(private router: RouterService) { }

  ngOnInit () {
    console.log(this.route);
    console.log(this.router.view);
    this.router[this.route].subscribe(size => {
      this.size = size;
    });
  }

  toggle(): void {
    console.log('clicked', this.route);
    this.router.toggle(this.route);
  }
}
