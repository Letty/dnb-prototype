<div class="results-detail">
  <div class="close" (click)="close()" [@fadeInOut]="inOut" (@fadeInOut.done)="animationDone($event)"></div>
  <div class="panel" [@slideInOut]="inOut">
    <header class="header">
      <svg class="arrow" width="48px" height="64px" (click)="close()">
        <polygon id="Shape" fill="#FFFFFF" fill-rule="nonzero" points="22.7 38.7 24.1 37.3 19.8 33 32 33 32 31 19.8 31 24.1 26.7 22.7 25.3 16 32"></polygon>
      </svg>
      <div>{{itemAutor}}: {{itemTitle}}</div>
    </header>
    <div class="loading" [class.loading-data]="loadingData">
      <svg width="16px" height="16px" class="circle">
        <g fill-rule="evenodd">
          <path class="three-quarts" d="M14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 L8,8 L16,8 C16,12.418278 12.418278,16 8,16 C3.581722,16 0,12.418278 0,8 C0,3.581722 3.581722,0 8,0 L8,8 L14,8 Z"></path>
          <path class="quart" d="M14,8 L16,8 C16,3.581722 12.418278,0 8,0 L8,2 C11.3137085,2 14,4.6862915 14,8 Z"></path>
        </g>
      </svg>
      <span>Daten werden geladen</span>
    </div>
    <div class="details" [class.loading-data]="loadingData">
      <div class="meta-data" *ngIf="item">
        <div class="wrapper">
          <div class="datum">
            <div class="prop">
              Autor
            </div>
            <div class="value">
              {{itemAutor}}
            </div>
          </div>
          <div class="datum">
            <div class="prop">
              Titel
            </div>
            <div class="value">
              {{item.item.title}} {{item.item.title_add}}
            </div>
          </div>
          <div class="datum" *ngIf="item.person.length">
            <div class="prop">
              {{item.person.length > 1 ? 'Personen' : 'Person'}}
            </div>
            <div class="value tags">
              <span *ngFor="let person of item.person" class="tag person" (click)="selectPerson(person)">{{person.name}} {{person.lastname}}</span>
            </div>
          </div>
          <div class="datum" *ngIf="item.keyword.length">
            <div class="prop">
              {{item.keyword.length > 1 ? 'Themen' : 'Thema'}}
            </div>
            <div class="value tags">
              <span *ngFor="let topic of item.keyword" class="tag topic" (click)="selectTopic(topic)">{{topic.keyword}}</span>
            </div>
          </div>
          <div class="datum" *ngIf="item.item.publisher">
            <div class="prop">
              Verlag
            </div>
            <div class="value">
              {{item.item.publisher}}
            </div>
          </div>
          <div class="datum" *ngIf="item.item.year">
            <div class="prop">
              Erschienen
            </div>
            <div class="value tags">
              <span class="tag year" (click)="selectYear(item.item.year)">{{item.item.year}}</span>
            </div>
          </div>
          <div class="datum" *ngIf="item.item.content">
            <div class="prop">
              Inhaltstext
            </div>
            <div class="value">
              {{item.item.content}}
            </div>
          </div>
          <div class="buttons">
            <a class="button" *ngIf="item.item.toc" [attr.href]="item.item.toc" target="_blank" rel="no-referrer">Inhaltsverzeichnis anzeigen</a>
            <a class="button" [attr.href]="'https://d-nb.info/' + item.item.id" target="_blank" rel="no-referrer">Datensatz auf der Seite der DNB anzeigen</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
